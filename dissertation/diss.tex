% Template for a Computer Science Tripos Part II project dissertation
\documentclass[12pt,a4paper,twoside,openright]{report}
\usepackage[pdfborder={0 0 0}, breaklinks]{hyperref}    % turns references into hyperlinks
\usepackage[margin=25mm]{geometry}  % adjusts page layout
\usepackage{graphicx}  % allows inclusion of PDF, PNG and JPG images
\usepackage{docmute}   % only needed to allow inclusion of proposal.tex
\usepackage{listings}
\usepackage{tikz}
\usepackage{adjustbox}
\usepackage{multirow}

% tikz settings
\usetikzlibrary{shapes, arrows, positioning}

\raggedbottom                           % try to avoid widows and orphans
\sloppy
\clubpenalty1000%
\widowpenalty1000%

\renewcommand{\baselinestretch}{1.1}    % adjust line spacing to make
                                        % more readable

\definecolor{keywords}{RGB}{220,0,90}
\definecolor{strings}{RGB}{0,140,0}
\definecolor{comments}{RGB}{0,127,0}
\definecolor{identifiers}{RGB}{20,20,75}

\lstset{basicstyle=\ttfamily\small,
    basewidth={.5em, .3em},
    keywordstyle=\color{keywords},
    commentstyle=\color{comments},
    stringstyle=\color{strings},
    showstringspaces=false,
    % identifierstyle=\color{identifiers},
    escapechar=$ %$
    }

\newcommand{\cbox}[2]{\adjustbox{bgcolor=#1}{#2}}

\begin{document}

\bibliographystyle{plain}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title


\pagestyle{empty}

\rightline{\LARGE \textbf{Tianlin Zhang}}

\vspace*{60mm}
\begin{center}
\Huge
\textbf{An Observable OCaml} \\[5mm]
Computer Science Tripos -- Part II \\[5mm]
Jesus College \\[5mm]
\today  % today's date
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Proforma, table of contents and list of figures

\pagestyle{plain}

\chapter*{Proforma}

{\large
\begin{tabular}{ll}
Name:               & \bf Tianlin Zhang \\
College:            & \bf Jesus College\\
Project Title:      & \bf An Observable OCaml\\
Examination:        & \bf Computer Science Tripos -- Part II\\
Year:               & \bf June 2018\\
Word Count:         & \bf 11990\footnotemark \\
Project Originator: & Stephen Kell \\
Supervisor:         & Stephen Kell \\ 
\end{tabular}
}
\footnotetext{This total computed with \texttt{pdftotext
        tz286\char`_dissertation1.pdf - | wc -w}.}

\section*{Original Aims of the Project}

To write a backend for the OCaml compiler that allows compilation from OCaml 
into C in such a way that it preserves so-called ``observability'', that is the 
ability to debug the generated C code, using GDB for example, in a similar 
fashion to debugging the original OCaml code. A library of test programs should 
be written to demonstrate the capabilities of the compiler, along with an 
evaluation into the performance and observability of the compiled code.

\section*{Work Completed}

I have written and completed a new backend for the OCaml compiler which can
compile a suitable target subset of OCaml, including a majority of the most
commonly used features. A C runtime library has also been written to support the
execution of the resulting C output, as well as a library of test programs which
are used in testing and evaluation of the compiler. An evaluation has also been
performed investigating the execution times of the compiler with respect to the
OCaml native compiler, and the observability of the compiled code with the OCaml
bytecode compiler.

\section*{Special Difficulties}

None.
 
\newpage
\section*{Declaration}

I, Tianlin Zhang of Jesus College, being a candidate for Part II of the Computer
Science Tripos, hereby declare
that this dissertation and the work described in it are my own work,
unaided except as may be specified below, and that the dissertation
does not contain material that has already been used to any substantial
extent for a comparable purpose.

\bigskip
\leftline{Signed: Tianlin Zhang}

\medskip
\leftline{Date: \today}

\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% now for the chapters

\pagestyle{headings}

\input{body.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% the bibliography
\addcontentsline{toc}{chapter}{Bibliography}

\begin{thebibliography}{9}

\bibitem{noassemblyrequired}
D. Tarditi, A. Acharya, P. Lee,
\textit{No Assembly Required: compiling Standard ML to C},
November 1990.\\
\url{http://repository.cmu.edu/cgi/viewcontent.cgi?article=3011&context=compsci}

\bibitem{previousproject}
C. Sun,
\textit{An Observable OCaml with liballocs and C},
May 2017.

\bibitem{realworldocaml}
A. Madhavapeddy, J. Hickey, Y. Minsky,
\textit{Real World OCaml},
O'Reilly Media,
November 2013.

\bibitem{liballocs}
S. Kell,
\textit{Towards a Dynamic Object Model within Unix Processes},
October 2015.

\end{thebibliography}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% the appendices
\input{appendix.tex}

\end{document}
